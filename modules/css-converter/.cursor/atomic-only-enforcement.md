# 🚨 ATOMIC-ONLY ENFORCEMENT - ZERO TOLERANCE POLICY

## 🎯 ABSOLUTE REQUIREMENT: ATOMIC WIDGETS ONLY

### ✅ ONLY These Sources Are EVER Allowed:
- **Elementor Atomic Widgets Module**: `/plugins/elementor/modules/atomic-widgets/`
- **Atomic Widget Elements**: `/plugins/elementor/modules/atomic-widgets/elements/`
- **Atomic Prop Types**: `/plugins/elementor/modules/atomic-widgets/prop-types/`
- **Atomic Style Definitions**: `/plugins/elementor/modules/atomic-widgets/styles/`

### 🚫 ABSOLUTELY FORBIDDEN - DELETE ON SIGHT:
- **Enhanced_Property_Mapper** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Generic property mappers** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **String fallbacks** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Custom JSON generation** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Hardcoded property structures** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Manual $$type creation** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Fallback mechanisms** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Alternative approaches** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Backup solutions** - 🚫 FORBIDDEN - DELETE IMMEDIATELY
- **Compatibility layers** - 🚫 FORBIDDEN - DELETE IMMEDIATELY

---

## 🔍 VIOLATION DETECTION - IMMEDIATE ACTION REQUIRED

### 🚨 RED FLAG INDICATORS (STOP AND DELETE):
- Any mention of "fallback" or "backup"
- Any mention of "Enhanced_Property_Mapper"
- Any manual JSON creation with `$$type`
- Any `create_v4_property()` calls (use `create_v4_property_with_type()`)
- Any string type defaults where atomic types exist
- Any try/catch around atomic widget calls
- Any "alternative" or "compatibility" code

### 🎯 MANDATORY COMPLIANCE CHECK FOR EVERY RESPONSE:
```
🎯 ATOMIC-ONLY COMPLIANCE CHECK:
- Widget JSON source: [Specific atomic widget class or VIOLATION]
- Property JSON source: [Specific atomic prop type or VIOLATION]
- Fallback usage: NONE - [Action taken to ensure zero fallbacks]
- Custom JSON creation: NONE - [Action taken to prevent custom JSON]
- Enhanced_Property_Mapper usage: NONE - [Action taken to remove/prevent]
```

---

## 🚫 FORBIDDEN PATTERNS - DELETE IMMEDIATELY

### ❌ FORBIDDEN: Fallback Methods
```php
// DELETE THIS IMMEDIATELY
private function fallback_size_structure() { ... }
private function fallback_dimensions_structure() { ... }
private function create_fallback_json() { ... }
```

### ❌ FORBIDDEN: Enhanced Property Mapper Usage
```php
// DELETE THIS IMMEDIATELY
$this->enhanced_mapper->map_to_v4_atomic()
new Enhanced_Property_Mapper()
```

### ❌ FORBIDDEN: Manual JSON Creation
```php
// DELETE THIS IMMEDIATELY
return [
    'property' => $property,
    'value' => [
        '$$type' => 'size',  // Manual creation FORBIDDEN
        'value' => $value
    ]
];
```

### ❌ FORBIDDEN: String Type Defaults
```php
// DELETE THIS IMMEDIATELY
return $this->create_v4_property($property, $value); // String fallback FORBIDDEN
```

---

## ✅ REQUIRED ATOMIC-ONLY PATTERNS

### ✅ CORRECT: Pure Atomic Generation
```php
// ONLY ACCEPTABLE APPROACH
if ( ! class_exists( '\Elementor\Modules\AtomicWidgets\PropTypes\Size_Prop_Type' ) ) {
    return null; // Fail fast, no fallbacks
}

$atomic_value = \Elementor\Modules\AtomicWidgets\PropTypes\Size_Prop_Type::generate( $parsed_size );

return [
    'property' => $property,
    'value' => $atomic_value // Generated BY atomic widgets
];
```

### ✅ CORRECT: Null Returns for Failures
```php
// ONLY ACCEPTABLE ERROR HANDLING
protected function parse_size_value( string $value ): ?array {
    // ... parsing logic ...
    
    // FORBIDDEN: No fallbacks for unparseable values
    return null; // Atomic widgets or nothing
}
```

---

## 🎯 ENFORCEMENT ACTIONS

### When ANY Violation Is Detected:

#### IMMEDIATE ACTIONS (NO PERMISSION REQUIRED):
1. **DELETE** all fallback code immediately
2. **DELETE** all Enhanced_Property_Mapper usage
3. **DELETE** all manual JSON generation
4. **REPLACE** with atomic-only implementations
5. **ADD** FORBIDDEN comments to prevent re-introduction

#### MANDATORY DOCUMENTATION:
```php
/**
 * ATOMIC-ONLY IMPLEMENTATION
 * 
 * 🎯 ATOMIC SOURCE: [Specific atomic widget/prop type]
 * 🚫 FALLBACKS: NONE - Atomic widgets or null
 * ✅ COMPLIANCE: 100% atomic widget generated JSON
 */
```

---

## 🔒 ZERO TOLERANCE ENFORCEMENT

### ATOMIC-ONLY PRINCIPLE:
- **Atomic widgets are the ONLY source of truth**
- **No exceptions, no alternatives, no fallbacks**
- **Fail fast with null returns when atomic unavailable**
- **Delete any code that violates atomic-only principle**

### SUCCESS METRICS:
- ✅ **Zero fallback mechanisms**
- ✅ **Zero Enhanced_Property_Mapper usage**
- ✅ **Zero manual JSON generation**
- ✅ **100% atomic widget sourced JSON**
- ✅ **All violations deleted immediately**

---

## 💡 REMEMBER: ATOMIC WIDGETS OR NOTHING

**Every JSON structure MUST come from atomic widgets module.**
**Every property type MUST be defined by atomic prop types.**
**Every validation rule MUST match atomic widget expectations.**
**Zero exceptions - atomic widgets are the single source of truth.**

**FORBIDDEN means FORBIDDEN - delete immediately, no questions asked.**
